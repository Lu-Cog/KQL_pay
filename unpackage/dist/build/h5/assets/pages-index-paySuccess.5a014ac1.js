import{q as a,m as t,p as e,o as i,a as s,w as o,h as p,u as r,v as d,x as n,d as l,z as _,i as f}from"./index.9d366ede.js";import{b as y,m as I}from"./index.ebb42aa1.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";var u=h({data:()=>({id:0,vip_id:0,payInfo:{},timer:""}),onLoad(t){a().globalData.order_id?(this.id=a().globalData.order_id,this.getInfo(),this.timer=setInterval((()=>{this.getInfo()}),1e3)):a().globalData.vip_order_id&&(this.vip_id=a().globalData.vip_order_id,this.getVipInfo(),this.timer=setInterval((()=>{this.getVipInfo()}),1e3))},methods:{getInfo(){t({title:"加載中..."}),y({order_id:this.id}).then((a=>{this.payInfo=a.data,1==this.payInfo.gtpay_status&&(e(),clearInterval(this.timer))}))},getVipInfo(){t({title:"加載中..."}),I({order_id:this.vip_id}).then((a=>{this.payInfo=a.data,1==this.payInfo.gtpay_status&&(e(),clearInterval(this.timer))}))}}},[["render",function(a,t,e,y,I,h){const u=f;return i(),s(u,{class:"pay"},{default:o((()=>[p(u,{class:"paytitle"},{default:o((()=>[r(d(I.payInfo.gtpay_status_str),1)])),_:1}),I.payInfo.wa_coin>0?(i(),n("p",{key:0},"感謝您使用瓦幣折抵消費")):l("",!0),I.id?(i(),n("p",{key:1},"請出示店家，確認付款成功")):l("",!0),_("p",null,"訂單詳情"),p(u,{class:"main"},{default:o((()=>[_("p",null,"訂單編號："+d(I.payInfo.order_sn),1),_("p",null,"支付編號："+d(I.payInfo.gtpay_order_id),1),I.id?(i(),n("p",{key:0},"店鋪名稱："+d(I.payInfo.shop_name),1)):l("",!0),_("p",null,"總金額："+d(Number(I.payInfo.total_price)),1),I.id?(i(),n("p",{key:1},"瓦幣折抵："+d(Number(I.payInfo.wa_coin)),1)):l("",!0),_("p",null,"支付金額："+d(Number(I.payInfo.pay_price)),1),_("p",null,"下單時間："+d(I.payInfo.add_time),1)])),_:1})])),_:1})}],["__scopeId","data-v-e5f2b7d0"]]);export{u as default};
